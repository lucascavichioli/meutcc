-- MySQL Script generated by MySQL Workbench
-- Fri Sep 27 00:10:09 2019
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`RECEITAWS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`RECEITAWS` (
  `REC_CNPJ` VARCHAR(255) NOT NULL,
  `REC_STATUS` VARCHAR(255) NULL,
  `REC_MESSAGE` VARCHAR(255) NULL,
  `REC_TIPO` VARCHAR(255) NULL,
  `REC_ABERTURA` VARCHAR(255) NULL,
  `REC_NOME` VARCHAR(255) NULL,
  `REC_FANTASIA` VARCHAR(255) NULL,
  `REC_ATV_PRIN_CODE` VARCHAR(255) NULL COMMENT 'ARRAY',
  `REC_ATV_PRIN_TEXT` VARCHAR(255) NULL,
  `REC_ATIVIDADES_SECUNDARIAS` VARCHAR(255) NULL,
  `REC_NATUREZA_JURIDICA` VARCHAR(255) NULL,
  `REC_LOGRADOURO` VARCHAR(255) NULL,
  `REC_NUMERO` VARCHAR(255) NULL,
  `REC_COMPLEMENTO` VARCHAR(255) NULL,
  `REC_CEP` VARCHAR(255) NULL,
  `REC_BAIRRO` VARCHAR(255) NULL,
  `REC_MUNICIPIO` VARCHAR(255) NULL,
  `REC_UF` VARCHAR(255) NULL,
  `REC_EMAIL` VARCHAR(255) NULL,
  `REC_TELEFONE` VARCHAR(255) NULL,
  `REC_EFR` VARCHAR(255) NULL,
  `REC_SITUACAO` VARCHAR(255) NULL,
  `REC_DATA_SITUACAO` VARCHAR(255) NULL,
  `REC_MOTIVO_SITUACAO` VARCHAR(255) NULL,
  `REC_SITUACAO_ESPECIAL` VARCHAR(255) NULL,
  `REC_DATA_SITUACAO_ESPECIAL` VARCHAR(255) NULL,
  `REC_CAPITAL_SOCIAL` VARCHAR(255) NULL,
  `REC_QSA` VARCHAR(255) NULL,
  `REC_EXTRA` VARCHAR(255) NULL COMMENT 'OBJETO',
  `REC_ULTIMA_ATUALIZACAO` VARCHAR(255) NULL,
  PRIMARY KEY (`REC_CNPJ`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`ENDERECO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`ENDERECO` (
  `CEP` VARCHAR(255) NOT NULL,
  `LOGRADOURO` VARCHAR(255) NULL,
  `COMPLEMENTO` VARCHAR(255) NULL,
  `BAIRRO` VARCHAR(255) NULL,
  `LOCALIDADE` VARCHAR(255) NULL,
  `UF` VARCHAR(10) NULL,
  `UNIDADE` VARCHAR(255) NULL,
  `IBGE` VARCHAR(255) NULL,
  `GIA` VARCHAR(255) NULL,
  PRIMARY KEY (`CEP`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`USUARIOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`USUARIOS` (
  `CONT_ID` INT(10) NOT NULL AUTO_INCREMENT,
  `CONT_NOME` VARCHAR(255) NULL,
  `CONT_TELEFONE` VARCHAR(255) NULL,
  `CONT_TELEFONE2` VARCHAR(255) NULL,
  `CONT_CRC` VARCHAR(255) NULL,
  `CONT_EMAIL` VARCHAR(255) NULL,
  `CONT_SENHA` VARCHAR(255) NULL,
  `CONT_REC_CNPJ` VARCHAR(255) NULL,
  `CONT_RESPONSAVEL` VARCHAR(255) NULL,
  `CONT_CPF` VARCHAR(255) NULL,
  `ENDERECO_CEP` VARCHAR(255) NOT NULL,
  PRIMARY KEY (`CONT_ID`),
  INDEX `fk_CONTABILIDADE_RECEITAWS1_idx` (`CONT_REC_CNPJ` ASC) VISIBLE,
  INDEX `fk_USUARIOS_ENDERECO1_idx` (`ENDERECO_CEP` ASC) VISIBLE,
  CONSTRAINT `fk_CONTABILIDADE_RECEITAWS1`
    FOREIGN KEY (`CONT_REC_CNPJ`)
    REFERENCES `mydb`.`RECEITAWS` (`REC_CNPJ`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_USUARIOS_ENDERECO1`
    FOREIGN KEY (`ENDERECO_CEP`)
    REFERENCES `mydb`.`ENDERECO` (`CEP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`EMPRESA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`EMPRESA` (
  `EMP_ID` INT(10) NOT NULL AUTO_INCREMENT,
  `EMP_NOME` VARCHAR(255) NULL,
  `EMP_TELEFONE` VARCHAR(255) NULL,
  `EMP_TELEFONE2` VARCHAR(255) NULL,
  `EMP_CNAE` VARCHAR(255) NULL,
  `EMP_QTD_EMP` INT(10) NULL,
  `EMP_EMAIL` VARCHAR(255) NULL,
  `EMP_CONT_ID` INT(10) NOT NULL,
  `EMP_REC_CNPJ` VARCHAR(255) NOT NULL,
  PRIMARY KEY (`EMP_ID`, `EMP_CONT_ID`, `EMP_REC_CNPJ`),
  INDEX `fk_EMPRESA_CONTABILIDADE1_idx` (`EMP_CONT_ID` ASC) VISIBLE,
  INDEX `fk_EMPRESA_RECEITAWS1_idx` (`EMP_REC_CNPJ` ASC) VISIBLE,
  CONSTRAINT `fk_EMPRESA_CONTABILIDADE1`
    FOREIGN KEY (`EMP_CONT_ID`)
    REFERENCES `mydb`.`USUARIOS` (`CONT_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_EMPRESA_RECEITAWS1`
    FOREIGN KEY (`EMP_REC_CNPJ`)
    REFERENCES `mydb`.`RECEITAWS` (`REC_CNPJ`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`ANOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`ANOS` (
  `ANO_ID` INT(10) NOT NULL AUTO_INCREMENT,
  `ANO_REF` VARCHAR(255) NULL,
  PRIMARY KEY (`ANO_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`BALANCO_ATIVOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`BALANCO_ATIVOS` (
  `BATIV_ID` INT(10) NOT NULL AUTO_INCREMENT,
  `BATIV_ATIVO_CIRCULANTE` DECIMAL(14,2) NULL,
  `BATIV_ESTOQUE` DECIMAL(14,2) NULL,
  `BATIV_ATIVO_RLP` DECIMAL(14,2) NULL COMMENT 'ATIVO REALIZÁVEL A LONGO PRAZO',
  `BATIV_INVESTIMENTOS` DECIMAL(14,2) NULL,
  `BATIV_IMOB_INTANGIVEL` DECIMAL(14,2) NULL COMMENT 'IMOBILIZADO INTANGÍVEL\n',
  `BATIV_ATIVO_TOTAL` DECIMAL(14,2) NULL,
  `BATIV_ATIVO_NAO_CIRCULANTE` DECIMAL(14,2) NULL,
  `BATIV_EMP_ID` INT(10) NOT NULL,
  `BATIV_ANO_ID` INT(10) NOT NULL,
  PRIMARY KEY (`BATIV_ID`, `BATIV_EMP_ID`, `BATIV_ANO_ID`),
  INDEX `fk_BALANCO_PATRIMONIAL_ENTIDADE1_idx` (`BATIV_EMP_ID` ASC) VISIBLE,
  INDEX `fk_BALANCO_PATRIMONIAL_ANOS1_idx` (`BATIV_ANO_ID` ASC) VISIBLE,
  CONSTRAINT `fk_BALANCO_PATRIMONIAL_ENTIDADE1`
    FOREIGN KEY (`BATIV_EMP_ID`)
    REFERENCES `mydb`.`EMPRESA` (`EMP_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_BALANCO_PATRIMONIAL_ANOS1`
    FOREIGN KEY (`BATIV_ANO_ID`)
    REFERENCES `mydb`.`ANOS` (`ANO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`BALANCO_PASSIVOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`BALANCO_PASSIVOS` (
  `BPAS_ID` INT(10) NOT NULL AUTO_INCREMENT,
  `BPAS_PASSIVO_CIRCULANTE` DECIMAL(14,2) NULL,
  `BPAS_PASSIVO_N_CIRCULANTE` DECIMAL(14,2) NULL,
  `BPAS_PATRIMONIO_LIQUIDO` DECIMAL(14,2) NULL,
  `BPAS_PASSIVO_TOTAL` DECIMAL(14,2) NULL,
  `BPAS_ANO_ID` INT(10) NOT NULL,
  `BPAS_EMP_ID` INT(10) NOT NULL,
  PRIMARY KEY (`BPAS_ID`, `BPAS_ANO_ID`, `BPAS_EMP_ID`),
  INDEX `fk_BALANCO_PASSIVOS_ANOS1_idx` (`BPAS_ANO_ID` ASC) VISIBLE,
  INDEX `fk_BALANCO_PASSIVOS_ENTIDADE1_idx` (`BPAS_EMP_ID` ASC) VISIBLE,
  CONSTRAINT `fk_BALANCO_PASSIVOS_ANOS1`
    FOREIGN KEY (`BPAS_ANO_ID`)
    REFERENCES `mydb`.`ANOS` (`ANO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_BALANCO_PASSIVOS_ENTIDADE1`
    FOREIGN KEY (`BPAS_EMP_ID`)
    REFERENCES `mydb`.`EMPRESA` (`EMP_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`DEMONSTRACAO_RESULTADO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DEMONSTRACAO_RESULTADO` (
  `DRES_ID` INT(10) NOT NULL AUTO_INCREMENT,
  `DRES_RECEITA_LIQUIDA_VENDAS` DECIMAL(14,2) NULL,
  `DRES_CUSTO_VENDAS` DECIMAL(14,2) NULL COMMENT '(-) VALOR NEGATIVO\n',
  `DRES_DESPESAS_OPERACIONAIS` DECIMAL(14,2) NULL COMMENT '(-) VALOR NEGATIVO\nEXCETO FINANCEIRAS\n',
  `DRES_OUTRAS_RECEITAS_OP` DECIMAL(14,2) NULL COMMENT 'EXCETO FINANCEIRAS\n',
  `DRES_DESPESAS_FINANCEIRAS` DECIMAL(14,2) NULL COMMENT '(-) VALOR NEGATIVO\n',
  `DRES_RECEITAS_FINANCEIRAS` DECIMAL(14,2) NULL,
  `DRES_OUTRAS_DESPESAS` DECIMAL(14,2) NULL COMMENT '(-) VALOR NEGATIVO\n',
  `DRES_IRPJ_CSLL` DECIMAL(14,2) NULL COMMENT '(-) VALOR NEGATIVO',
  `DRES_CONTRIBUICOES_PARTICIP` DECIMAL(14,2) NULL COMMENT '(-) VALOR NEGATIVO\n',
  `DRES_LUCRO_BRUTO` DECIMAL(14,2) NULL COMMENT 'RECEITA LIQUIDA + CUSTO DE VENDAS\n',
  `DRES_RESULT_OPERACIONAL` DECIMAL(14,2) NULL COMMENT 'LUCRO BRUTO + DESPESAS OPERACIONAIS + OUTRAS RECEITAS OPERACIONAIS\n',
  `DRES_RESULT_ANTES_IRPJ_CSLL` DECIMAL(14,2) NULL COMMENT 'RESULTADO OPERACIONAL + DESPESAS FINANCEIRAS + RECEITAS FINANCEIRAS + OUTRAS DESPESAS\n',
  `DRES_RESULT_ANTES_CONT_PART` DECIMAL(14,2) NULL COMMENT 'RESULTADO ANTES DOS IRPJ E CSLL + IRPJ E CSLL\n',
  `DRES_RESULT_LIQUIDO_EXERCICIO` DECIMAL(14,2) NULL COMMENT 'RESULTADO ANTES DAS CONTRIBUIÇÕES E PARTICIPAÇÕES + CONTRIBUIÇÕES E PARTICIPAÇÕES\n',
  `DRES_ANO_ID` INT(10) NOT NULL,
  `DRES_EMP_ID` INT(10) NOT NULL,
  PRIMARY KEY (`DRES_ID`, `DRES_ANO_ID`, `DRES_EMP_ID`),
  INDEX `fk_DEMONSTRACAO_RESULTADO_ANOS1_idx` (`DRES_ANO_ID` ASC) VISIBLE,
  INDEX `fk_DEMONSTRACAO_RESULTADO_ENTIDADE1_idx` (`DRES_EMP_ID` ASC) VISIBLE,
  CONSTRAINT `fk_DEMONSTRACAO_RESULTADO_ANOS1`
    FOREIGN KEY (`DRES_ANO_ID`)
    REFERENCES `mydb`.`ANOS` (`ANO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_DEMONSTRACAO_RESULTADO_ENTIDADE1`
    FOREIGN KEY (`DRES_EMP_ID`)
    REFERENCES `mydb`.`EMPRESA` (`EMP_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`QUARTIS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`QUARTIS` (
  `Q_ID` INT(10) NOT NULL AUTO_INCREMENT,
  `Q_1` FLOAT NULL,
  `Q_2` FLOAT NULL,
  `Q_3` FLOAT NULL,
  PRIMARY KEY (`Q_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`COMPARATIVOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`COMPARATIVOS` (
  `COMP_ID` INT(10) NOT NULL AUTO_INCREMENT,
  `COMP_LI` DECIMAL(14,2) NULL COMMENT 'QUANTO MAIOR, MELHOR\n',
  `COMP_LC` DECIMAL(14,2) NULL COMMENT 'QUANTO MAIOR, MELHOR\n',
  `COMP_LS` DECIMAL(14,2) NULL COMMENT 'QUANTO MAIOR, MELHOR\n',
  `COMP_LG` DECIMAL(14,2) NULL COMMENT 'QUANTO MAIOR, MELHOR\n',
  `COMP_EG` DECIMAL(14,2) NULL COMMENT 'QUANTO MENOR, MELHOR\n',
  `COMP_GE` DECIMAL(14,2) NULL COMMENT 'QUANTO MENOR, MELHOR',
  `COMP_CE` DECIMAL(14,2) NULL COMMENT 'QUANTO MENOR, MELHOR',
  `COMP_GI` DECIMAL(14,2) NULL COMMENT 'QUANTO MENOR, MELHOR',
  `COMP_IRNC` DECIMAL(14,2) NULL COMMENT 'QUANTO MENOR, MELHOR',
  `COMP_MAF` DECIMAL(14,2) NULL,
  `COMP_MB` DECIMAL(14,2) NULL COMMENT 'QUANTO MAIOR, MELHOR',
  `COMP_MO` DECIMAL(14,2) NULL COMMENT 'QUANTO MAIOR, MELHOR',
  `COMP_ML` DECIMAL(14,2) NULL COMMENT 'QUANTO MAIOR, MELHOR',
  `COMP_ANO_ID` INT(10) NOT NULL,
  `COMP_EMP_ID` INT(10) NOT NULL,
  `COMP_QUARTIL_ID` INT(10) NULL,
  PRIMARY KEY (`COMP_ID`, `COMP_ANO_ID`, `COMP_EMP_ID`),
  INDEX `fk_COMPARATIVOS_ANOS1_idx` (`COMP_ANO_ID` ASC) VISIBLE,
  INDEX `fk_COMPARATIVOS_ENTIDADE1_idx` (`COMP_EMP_ID` ASC) VISIBLE,
  INDEX `fk_COMPARATIVOS_QUARTIS1_idx` (`COMP_QUARTIL_ID` ASC) VISIBLE,
  CONSTRAINT `fk_COMPARATIVOS_ANOS1`
    FOREIGN KEY (`COMP_ANO_ID`)
    REFERENCES `mydb`.`ANOS` (`ANO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_COMPARATIVOS_ENTIDADE1`
    FOREIGN KEY (`COMP_EMP_ID`)
    REFERENCES `mydb`.`EMPRESA` (`EMP_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_COMPARATIVOS_QUARTIS1`
    FOREIGN KEY (`COMP_QUARTIL_ID`)
    REFERENCES `mydb`.`QUARTIS` (`Q_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`COMPARATIVOS_ANO_ANTERIOR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`COMPARATIVOS_ANO_ANTERIOR` (
  `COMPANT_ID` INT(10) NOT NULL AUTO_INCREMENT,
  `COMPANT_PMC` DECIMAL(14,2) NULL COMMENT 'QUANTO MENOR, MELHOR',
  `COMPANT_PME` DECIMAL(14,2) NULL COMMENT 'QUANTO MENOR, MELHOR',
  `COMPANT_PMP` DECIMAL(14,2) NULL COMMENT 'QUANTO MAIOR\n, MELHOR',
  `COMPANT_CO` DECIMAL(14,2) NULL COMMENT 'QUANTO MENOR, MELHOR',
  `COMPANT_CF` DECIMAL(14,2) NULL COMMENT 'QUANTO MENOR, MELHOR',
  `COMPANT_GA` DECIMAL(14,2) NULL COMMENT 'QUANTO MAIOR, MELHOR\n',
  `COMPANT_RSA` DECIMAL(14,2) NULL COMMENT 'QUANTO MAIOR, MELHOR',
  `COMPANT_RSPL` DECIMAL(14,2) NULL COMMENT 'QUANTO MAIOR, MELHOR\n',
  `COMPANT_ANO_ID` INT(10) NOT NULL,
  `COMPANT_EMP_ID` INT(10) NOT NULL,
  `COMPANT_QUARTIL_ID` INT(10) NULL,
  PRIMARY KEY (`COMPANT_ID`, `COMPANT_ANO_ID`, `COMPANT_EMP_ID`),
  INDEX `fk_COMPARATIVOS_ANO_INFERIOR_ANOS1_idx` (`COMPANT_ANO_ID` ASC) VISIBLE,
  INDEX `fk_COMPARATIVOS_ANO_INFERIOR_ENTIDADE1_idx` (`COMPANT_EMP_ID` ASC) VISIBLE,
  INDEX `fk_COMPARATIVOS_ANO_ANTERIOR_QUARTIS1_idx` (`COMPANT_QUARTIL_ID` ASC) VISIBLE,
  CONSTRAINT `fk_COMPARATIVOS_ANO_INFERIOR_ANOS1`
    FOREIGN KEY (`COMPANT_ANO_ID`)
    REFERENCES `mydb`.`ANOS` (`ANO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_COMPARATIVOS_ANO_INFERIOR_ENTIDADE1`
    FOREIGN KEY (`COMPANT_EMP_ID`)
    REFERENCES `mydb`.`EMPRESA` (`EMP_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_COMPARATIVOS_ANO_ANTERIOR_QUARTIS1`
    FOREIGN KEY (`COMPANT_QUARTIL_ID`)
    REFERENCES `mydb`.`QUARTIS` (`Q_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = 'ESSA TABELA CONTÉM OS INDICES CALCULADOS SOMENTE PARA O \"\nANO ANTERIOR\"';


-- -----------------------------------------------------
-- Table `mydb`.`LOG`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`LOG` (
  `ID` INT NOT NULL,
  `IP_CLIENTE` VARCHAR(255) NULL,
  `OPERACAO` VARCHAR(255) NULL,
  `DATA` TIMESTAMP(1) NULL DEFAULT CURRENT_TIMESTAMP,
  `USUARIO` VARCHAR(255) NULL,
  `ID_AFETADO` VARCHAR(255) NULL,
  `TABELA_AFETADA` VARCHAR(255) NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
